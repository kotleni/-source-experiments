global proc string brAutoPuppetQuery (string $flag, string $name)
{	
	string $cntrl;
	string $bufA[];
	if ((`gmatch $flag "-query"`) || (`gmatch $flag "-q"`))
	{
		// get the AP_puppetInfo node
		string $buf[] = `ls "AP_*"`;
		string $puppetInfoNode = $buf[0];
		
		// get the connections for the queried attribute
		$bufA = `listConnections ( $puppetInfoNode + "." + $name)`;
	}
	return $bufA[0];	
}